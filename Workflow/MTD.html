
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Mermaid Diagram</title>
  <script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true });
  </script>
</head>
<body>
  <div class="mermaid">
    graph TD;

    A01((Start Program));
    B01["Set default filter for Material Number '1000'-'1999'"];
    C01[/User Defines Criteria on Selection Screen/];
    D01{"Is 'Maximum Records' > 0?"};
    E01[/Display Error: "Maximum records must be greater than 0"/];
    F01[Query material master database MARA and store results in internal list];
    G01{Was any data found?};
    H01[/Display Info: "No materials found for the given criteria"/];
    I01[Loop Start: For each material record in list];
    J01[Increment Process Counter];
    K01{"Was 'Special Check' box ticked?"};
    L01{"Is Material Type 'FERT' or 'HALB'?"};
    M01[Execute business rule for FERT/HALB];
    N01[Execute business rule for other material types];
    O01[/Display Record Details Material Number, Type, Group/];
    P01[Loop End];
    Q01[Print separator line];
    R01[/Display "Total records processed:" with final count/];
    S01((End Program));

    A01 --> B01;
    B01 --> C01;
    C01 --> D01;
    D01 -- No --> E01;
    E01 --> C01;
    D01 -- Yes --> F01;
    F01 --> G01;
    G01 -- No --> H01;
    H01 --> Q01;
    G01 -- Yes --> I01;
    I01 --> J01;
    J01 --> K01;
    K01 -- No --> O01;
    K01 -- Yes --> L01;
    L01 -- Yes --> M01;
    L01 -- No --> N01;
    M01 --> O01;
    N01 --> O01;
    O01 --> P01;
    P01 -- Iterate Next Record --> I01;
    P01 -- Loop Complete --> Q01;
    Q01 --> R01;
    R01 --> S01;

  </div>
</body>
</html>
